# 1.kafka如何解决过期失效问题
	
消息过期失效会导致大量数据的直接丢失.这是需要批量重导.

假如1w个订单积压在mq里面,没有处理,其中1000个订单都丢了,只能手动写程序把1000个订单查出来,发到mq里面补一次.

# 2.kafka大量消息积压怎么处理

消息队列出现大量消息积压一般是消费者出现故障.这时可通过临时紧急扩容解决

思路:

1.先修复consumer问题,确保其恢复消费速度,然后将现有consumer停掉

2.新建一个topic,partition是原来的10倍.

3.写一个临时分发数据的consumer程序,部署上去消费积压的数据,消费后不做处理,直接写入新建的topic

4.临时征用10倍的机器部署consumer,相当于以10倍的速度消费数据.

5.等消费完积压数据后,恢复原来的架构,用修复好的consumer机器消费消息



# 3.kafka消息满了怎么处理

如果消息积压在mq里,长时间没有处理掉,导致mq快写满了.

此时只能写临时程序,接入数据消费,消费一个丢弃一个,都不要了,快速消费掉所有消息.然后补数据,批量重导
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	